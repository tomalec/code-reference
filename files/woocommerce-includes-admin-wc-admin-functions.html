<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WooCommerce Code Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" />
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/base.css?updated=1692866946">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css?updated=1692866946">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
            <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/js/all.min.js" integrity="sha256-0vuk8LXoyrmCjp1f0O300qo1M75ZQyhH9X3J6d+scmk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8KCYZ2CYMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8KCYZ2CYMS', {
		'content_group' : 'WooCommerce Core Code Reference',
	});
</script>
        <script src="../js/prism.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.dispatchEvent(new HashChangeEvent('hashchange'));
        });
    </script>
</head>
<body id="top">
    <header class="phpdocumentor-top-header">
    <section class="phpdocumentor-section">
        <div class="site-branding">
            <a class="site-logo" href="../index.html"><img width="180" src="../images/logo.svg" alt="WooCommerce" /></a>
        </div>
        <nav class="main-navigation">
            <ul>
                <li><a href="../hooks/hooks.html">Hooks Reference</a></li>
                <li><a href="https://docs.woocommerce.com/">Documentation</a></li>
                <li><a href="https://woocommerce.github.io/woocommerce-rest-api-docs/">REST API Docs</a></li>
                <li><a href="https://woocommerce.com/careers/?utm_source=woocommerce+core+code+reference&utm_medium=devdocs&utm_campaign=woo+careers" target="_blank">We're hiring!</a></li>
            </ul>
        </nav>
    </section>
</header>

<div class="phpdocumentor-header">
    <section class="phpdocumentor-section">
        <h1 class="phpdocumentor-title">WooCommerce Code Reference</h1>
        <section class="phpdocumentor-search">
    <label class="phpdocumentor-label">
        <span class="visually-hidden">Search (click ESC to close search results)</span>
        <input id="autoComplete" tabindex="1" type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading..." disabled />
    </label>
</section>

    </section>
</div>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <aside class="phpdocumentor-column -four phpdocumentor-sidebar">
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                <h3 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/default.html"><abbr title="\">Global</abbr></a></h3>
                                        <h4 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/woocommerce.html"><abbr title="\WooCommerce">WooCommerce</abbr></a></h4>
                <ul class="phpdocumentor-list">
                                            <li><a href="../namespaces/woocommerce-admin.html"><abbr title="\WooCommerce\Admin">Admin</abbr></a></li>
                                    </ul>
                            <h4 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/automattic.html"><abbr title="\Automattic">Automattic</abbr></a></h4>
                <ul class="phpdocumentor-list">
                                            <li><a href="../namespaces/automattic-woocommerce.html"><abbr title="\Automattic\WooCommerce">WooCommerce</abbr></a></li>
                                    </ul>
                        </section>

        <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                    <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerce.html"><abbr title="\WooCommerce">WooCommerce</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WooCommerce-Classes.html"><abbr title="\WooCommerce\Classes">Classes</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Abstracts.html"><abbr title="\WooCommerce\Abstracts">Abstracts</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Admin.html"><abbr title="\WooCommerce\Admin">Admin</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Helper.html"><abbr title="\WooCommerce\Helper">Helper</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Views.html"><abbr title="\WooCommerce\Views">Views</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Templates.html"><abbr title="\WooCommerce\Templates">Templates</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Reports.html"><abbr title="\WooCommerce\Reports">Reports</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Blocks.html"><abbr title="\WooCommerce\Blocks">Blocks</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-RestApi.html"><abbr title="\WooCommerce\RestApi">RestApi</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-CLI.html"><abbr title="\WooCommerce\CLI">CLI</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-l10n.html"><abbr title="\WooCommerce\l10n">l10n</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Webhooks.html"><abbr title="\WooCommerce\Webhooks">Webhooks</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-DataStores.html"><abbr title="\WooCommerce\DataStores">DataStores</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Emails.html"><abbr title="\WooCommerce\Emails">Emails</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Export.html"><abbr title="\WooCommerce\Export">Export</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Gateways.html"><abbr title="\WooCommerce\Gateways">Gateways</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-PayPal.html"><abbr title="\WooCommerce\PayPal">PayPal</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Import.html"><abbr title="\WooCommerce\Import">Import</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Integrations.html"><abbr title="\WooCommerce\Integrations">Integrations</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Interfaces.html"><abbr title="\WooCommerce\Interfaces">Interfaces</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Interface.html"><abbr title="\WooCommerce\Interface">Interface</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-LogHandlers.html"><abbr title="\WooCommerce\LogHandlers">LogHandlers</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-PaymentTokens.html"><abbr title="\WooCommerce\PaymentTokens">PaymentTokens</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Utilities.html"><abbr title="\WooCommerce\Utilities">Utilities</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Shipping.html"><abbr title="\WooCommerce\Shipping">Shipping</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Shortcodes.html"><abbr title="\WooCommerce\Shortcodes">Shortcodes</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Tracks.html"><abbr title="\WooCommerce\Tracks">Tracks</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Traits.html"><abbr title="\WooCommerce\Traits">Traits</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Functions.html"><abbr title="\WooCommerce\Functions">Functions</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-WCCom.html"><abbr title="\WooCommerce\WCCom">WCCom</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-WCCOM.html"><abbr title="\WooCommerce\WCCOM">WCCOM</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Widgets.html"><abbr title="\WooCommerce\Widgets">Widgets</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-Uninstaller.html"><abbr title="\WooCommerce\Uninstaller">Uninstaller</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WoocommerceAdmin.html"><abbr title="\WoocommerceAdmin">WoocommerceAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WoocommerceNavigation.html"><abbr title="\WoocommerceNavigation">WoocommerceNavigation</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/Automattic.html"><abbr title="\Automattic">Automattic</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/Automattic-WooCommerce.html"><abbr title="\Automattic\WooCommerce">WooCommerce</abbr></a></li>
                            </ul>
                        </section>
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../indices/files.html">Files</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../hooks/hooks.html">Hooks Reference</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <ul class="phpdocumentor-breadcrumbs">
    </ul>

    <article class="phpdocumentor-element -file">
        <h2 class="phpdocumentor-content__title">wc-admin-functions.php</h2>

                

            <section class="phpdocumentor-functions">
        <h3 class="phpdocumentor-elements__header" id="functions">
            Functions
            <a href="#functions" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_get_screen_ids">
        wc_get_screen_ids()
        <a href="#function_wc_get_screen_ids" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.20">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">20</span>
</aside>

        <p class="phpdocumentor-summary">Get all WooCommerce screen ids.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_get_screen_ids</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

        <section class="phpdocumentor-description"></section>

    
    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_get_page_screen_id">
        wc_get_page_screen_id()
        <a href="#function_wc_get_page_screen_id" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.71">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">71</span>
</aside>

        <p class="phpdocumentor-summary">Get page ID for a specific WC resource.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_get_page_screen_id</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$for</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$for</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Name of the resource.</p>
</section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_create_page">
        wc_create_page()
        <a href="#function_wc_create_page" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.97">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">97</span>
</aside>

        <p class="phpdocumentor-summary">Create a page and store the ID in an option.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_create_page</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$slug</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$option</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$page_title</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$page_content</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$post_parent</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$post_status</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;publish&#039;</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">int</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$slug</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Slug for the new page.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$option</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Option name to store the page's ID.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$page_title</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>(default: '') Title for the new page.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$page_content</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>(default: '') Content for the new page.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$post_parent</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>(default: 0) Parent for the new page.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$post_status</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;publish&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>(default: publish) The post status of the new page.</p>
</section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_woocommerce_admin_fields">
        woocommerce_admin_fields()
        <a href="#function_woocommerce_admin_fields" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.179">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">179</span>
</aside>

        <p class="phpdocumentor-summary">Output admin fields.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">woocommerce_admin_fields</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$options</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Loops through the woocommerce options array and outputs each field.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$options</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Opens array to output.</p>
</section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_woocommerce_update_options">
        woocommerce_update_options()
        <a href="#function_woocommerce_update_options" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.194">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">194</span>
</aside>

        <p class="phpdocumentor-summary">Update all settings which are passed.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">woocommerce_update_options</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$options</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$data</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$options</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Option fields to save.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Passed data.</p>
</section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_woocommerce_settings_get_option">
        woocommerce_settings_get_option()
        <a href="#function_woocommerce_settings_get_option" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.210">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">210</span>
</aside>

        <p class="phpdocumentor-summary">Get a setting from the settings API.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">woocommerce_settings_get_option</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$option_name</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$default</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$option_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Option name to save.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$default</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Default value to save.</p>
</section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_maybe_adjust_line_item_product_stock">
        wc_maybe_adjust_line_item_product_stock()
        <a href="#function_wc_maybe_adjust_line_item_product_stock" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.227">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">227</span>
</aside>

        <p class="phpdocumentor-summary">Sees if line item stock has already reduced stock, and whether those values need adjusting e.g. after changing item qty.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_maybe_adjust_line_item_product_stock</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="../classes/WC-Order-Item.html"><abbr title="\WC_Order_Item">WC_Order_Item</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$item</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$item_quantity</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">-1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool|array&lt;string|int, mixed&gt;|<abbr title="\WP_Error">WP_Error</abbr></span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$item</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="../classes/WC-Order-Item.html"><abbr title="\WC_Order_Item">WC_Order_Item</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Item object.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$item_quantity</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">-1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Optional quantity to check against. Read from object if not passed.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">3.6.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_save_order_items">
        wc_save_order_items()
        <a href="#function_wc_save_order_items" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.302">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">302</span>
</aside>

        <p class="phpdocumentor-summary">Save order items. Uses the CRUD.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_save_order_items</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$order_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$items</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$order_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Order ID.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$items</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Order items to save.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_render_action_buttons">
        wc_render_action_buttons()
        <a href="#function_wc_render_action_buttons" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.471">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">471</span>
</aside>

        <p class="phpdocumentor-summary">Get HTML for some action buttons. Used in list tables.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_render_action_buttons</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$actions</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$actions</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Actions to output.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">3.3.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_wc_render_invalid_variation_notice">
        wc_render_invalid_variation_notice()
        <a href="#function_wc_render_invalid_variation_notice" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce/includes/admin/wc-admin-functions.php"><a href="../files/woocommerce-includes-admin-wc-admin-functions.html#source-view.491">includes/admin/wc-admin-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">491</span>
</aside>

        <p class="phpdocumentor-summary">Shows a notice if variations are missing prices.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">wc_render_invalid_variation_notice</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="../classes/WC-Product.html"><abbr title="\WC_Product">WC_Product</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$product_object</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$product_object</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="../classes/WC-Product.html"><abbr title="\WC_Product">WC_Product</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Product object.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">3.6.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
            </section>

                    <h3 class="phpdocumentor-elements__header" id="source-code">
                Source code
                <a href="#source-code" class="headerlink"><i class="fas fa-link"></i></a>
            </h3>
            <pre id="source-view" tabindex="-1" class="language-php line-numbers linkable-line-numbers"><code>&lt;?php
/**
 * WooCommerce Admin Functions
 *
 * @package  WooCommerce\Admin\Functions
 * @version  2.4.0
 */

use Automattic\WooCommerce\Utilities\OrderUtil;

if ( ! defined( &#039;ABSPATH&#039; ) ) {
	exit;
}

/**
 * Get all WooCommerce screen ids.
 *
 * @return array
 */
function wc_get_screen_ids() {
	$wc_screen_id = &#039;woocommerce&#039;;
	$screen_ids   = array(
		&#039;toplevel_page_&#039; . $wc_screen_id,
		$wc_screen_id . &#039;_page_wc-orders&#039;,
		$wc_screen_id . &#039;_page_wc-reports&#039;,
		$wc_screen_id . &#039;_page_wc-shipping&#039;,
		$wc_screen_id . &#039;_page_wc-settings&#039;,
		$wc_screen_id . &#039;_page_wc-status&#039;,
		$wc_screen_id . &#039;_page_wc-addons&#039;,
		&#039;toplevel_page_wc-reports&#039;,
		&#039;product_page_product_attributes&#039;,
		&#039;product_page_product_exporter&#039;,
		&#039;product_page_product_importer&#039;,
		&#039;product_page_product-reviews&#039;,
		&#039;edit-product&#039;,
		&#039;product&#039;,
		&#039;edit-shop_coupon&#039;,
		&#039;shop_coupon&#039;,
		&#039;edit-product_cat&#039;,
		&#039;edit-product_tag&#039;,
		&#039;profile&#039;,
		&#039;user-edit&#039;,
	);

	foreach ( wc_get_order_types() as $type ) {
		$screen_ids[] = $type;
		$screen_ids[] = &#039;edit-&#039; . $type;
		$screen_ids[] = wc_get_page_screen_id( $type );
	}

	$attributes = wc_get_attribute_taxonomies();

	if ( $attributes ) {
		foreach ( $attributes as $attribute ) {
			$screen_ids[] = &#039;edit-&#039; . wc_attribute_taxonomy_name( $attribute-&gt;attribute_name );
		}
	}

	/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
	return apply_filters( &#039;woocommerce_screen_ids&#039;, $screen_ids );
	/* phpcs: enable */
}

/**
 * Get page ID for a specific WC resource.
 *
 * @param string $for Name of the resource.
 *
 * @return string Page ID. Empty string if resource not found.
 */
function wc_get_page_screen_id( $for ) {
	$screen_id = &#039;&#039;;
	$for       = str_replace( &#039;-&#039;, &#039;_&#039;, $for );

	if ( in_array( $for, wc_get_order_types( &#039;admin-menu&#039; ), true ) ) {
		if ( OrderUtil::custom_orders_table_usage_is_enabled() ) {
			$screen_id = &#039;woocommerce_page_wc-orders&#039; . ( &#039;shop_order&#039; === $for ? &#039;&#039; : &#039;--&#039; . $for );
		} else {
			$screen_id = $for;
		}
	}

	return $screen_id;
}

/**
 * Create a page and store the ID in an option.
 *
 * @param mixed  $slug Slug for the new page.
 * @param string $option Option name to store the page&#039;s ID.
 * @param string $page_title (default: &#039;&#039;) Title for the new page.
 * @param string $page_content (default: &#039;&#039;) Content for the new page.
 * @param int    $post_parent (default: 0) Parent for the new page.
 * @param string $post_status (default: publish) The post status of the new page.
 * @return int page ID.
 */
function wc_create_page( $slug, $option = &#039;&#039;, $page_title = &#039;&#039;, $page_content = &#039;&#039;, $post_parent = 0, $post_status = &#039;publish&#039; ) {
	global $wpdb;

	$option_value = get_option( $option );

	if ( $option_value &gt; 0 ) {
		$page_object = get_post( $option_value );

		if ( $page_object &amp;&amp; &#039;page&#039; === $page_object-&gt;post_type &amp;&amp; ! in_array( $page_object-&gt;post_status, array( &#039;pending&#039;, &#039;trash&#039;, &#039;future&#039;, &#039;auto-draft&#039; ), true ) ) {
			// Valid page is already in place.
			return $page_object-&gt;ID;
		}
	}

	if ( strlen( $page_content ) &gt; 0 ) {
		// Search for an existing page with the specified page content (typically a shortcode).
		$shortcode        = str_replace( array( &#039;&lt;!-- wp:shortcode --&gt;&#039;, &#039;&lt;!-- /wp:shortcode --&gt;&#039; ), &#039;&#039;, $page_content );
		$valid_page_found = $wpdb-&gt;get_var( $wpdb-&gt;prepare( &quot;SELECT ID FROM $wpdb-&gt;posts WHERE post_type=&#039;page&#039; AND post_status NOT IN ( &#039;pending&#039;, &#039;trash&#039;, &#039;future&#039;, &#039;auto-draft&#039; ) AND post_content LIKE %s LIMIT 1;&quot;, &quot;%{$shortcode}%&quot; ) );
	} else {
		// Search for an existing page with the specified page slug.
		$valid_page_found = $wpdb-&gt;get_var( $wpdb-&gt;prepare( &quot;SELECT ID FROM $wpdb-&gt;posts WHERE post_type=&#039;page&#039; AND post_status NOT IN ( &#039;pending&#039;, &#039;trash&#039;, &#039;future&#039;, &#039;auto-draft&#039; )  AND post_name = %s LIMIT 1;&quot;, $slug ) );
	}

	/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
	$valid_page_found = apply_filters( &#039;woocommerce_create_page_id&#039;, $valid_page_found, $slug, $page_content );
	/* phpcs: enable */

	if ( $valid_page_found ) {
		if ( $option ) {
			update_option( $option, $valid_page_found );
		}
		return $valid_page_found;
	}

	// Search for a matching valid trashed page.
	if ( strlen( $page_content ) &gt; 0 ) {
		// Search for an existing page with the specified page content (typically a shortcode).
		$trashed_page_found = $wpdb-&gt;get_var( $wpdb-&gt;prepare( &quot;SELECT ID FROM $wpdb-&gt;posts WHERE post_type=&#039;page&#039; AND post_status = &#039;trash&#039; AND post_content LIKE %s LIMIT 1;&quot;, &quot;%{$page_content}%&quot; ) );
	} else {
		// Search for an existing page with the specified page slug.
		$trashed_page_found = $wpdb-&gt;get_var( $wpdb-&gt;prepare( &quot;SELECT ID FROM $wpdb-&gt;posts WHERE post_type=&#039;page&#039; AND post_status = &#039;trash&#039; AND post_name = %s LIMIT 1;&quot;, $slug ) );
	}

	if ( $trashed_page_found ) {
		$page_id   = $trashed_page_found;
		$page_data = array(
			&#039;ID&#039;          =&gt; $page_id,
			&#039;post_status&#039; =&gt; $post_status,
		);
		wp_update_post( $page_data );
	} else {
		$page_data = array(
			&#039;post_status&#039;    =&gt; $post_status,
			&#039;post_type&#039;      =&gt; &#039;page&#039;,
			&#039;post_author&#039;    =&gt; 1,
			&#039;post_name&#039;      =&gt; $slug,
			&#039;post_title&#039;     =&gt; $page_title,
			&#039;post_content&#039;   =&gt; $page_content,
			&#039;post_parent&#039;    =&gt; $post_parent,
			&#039;comment_status&#039; =&gt; &#039;closed&#039;,
		);
		$page_id   = wp_insert_post( $page_data );

		/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
		do_action( &#039;woocommerce_page_created&#039;, $page_id, $page_data );
		/* phpcs: enable */
	}

	if ( $option ) {
		update_option( $option, $page_id );
	}

	return $page_id;
}

/**
 * Output admin fields.
 *
 * Loops through the woocommerce options array and outputs each field.
 *
 * @param array $options Opens array to output.
 */
function woocommerce_admin_fields( $options ) {

	if ( ! class_exists( &#039;WC_Admin_Settings&#039;, false ) ) {
		include dirname( __FILE__ ) . &#039;/class-wc-admin-settings.php&#039;;
	}

	WC_Admin_Settings::output_fields( $options );
}

/**
 * Update all settings which are passed.
 *
 * @param array $options Option fields to save.
 * @param array $data Passed data.
 */
function woocommerce_update_options( $options, $data = null ) {

	if ( ! class_exists( &#039;WC_Admin_Settings&#039;, false ) ) {
		include dirname( __FILE__ ) . &#039;/class-wc-admin-settings.php&#039;;
	}

	WC_Admin_Settings::save_fields( $options, $data );
}

/**
 * Get a setting from the settings API.
 *
 * @param mixed $option_name Option name to save.
 * @param mixed $default Default value to save.
 * @return string
 */
function woocommerce_settings_get_option( $option_name, $default = &#039;&#039; ) {

	if ( ! class_exists( &#039;WC_Admin_Settings&#039;, false ) ) {
		include dirname( __FILE__ ) . &#039;/class-wc-admin-settings.php&#039;;
	}

	return WC_Admin_Settings::get_option( $option_name, $default );
}

/**
 * Sees if line item stock has already reduced stock, and whether those values need adjusting e.g. after changing item qty.
 *
 * @since 3.6.0
 * @param WC_Order_Item $item Item object.
 * @param integer       $item_quantity Optional quantity to check against. Read from object if not passed.
 * @return boolean|array|WP_Error Array of changes or error object when stock is updated (@see wc_update_product_stock). False if nothing changes.
 */
function wc_maybe_adjust_line_item_product_stock( $item, $item_quantity = -1 ) {
	if ( &#039;line_item&#039; !== $item-&gt;get_type() ) {
		return false;
	}

	/**
	 * Prevent adjust line item product stock.
	 *
	 * @since 3.7.1
	 * @param bool $prevent If should prevent.
	 * @param WC_Order_Item $item Item object.
	 * @param int           $item_quantity Optional quantity to check against.
	 */
	if ( apply_filters( &#039;woocommerce_prevent_adjust_line_item_product_stock&#039;, false, $item, $item_quantity ) ) {
		return false;
	}

	$product = $item-&gt;get_product();

	if ( ! $product || ! $product-&gt;managing_stock() ) {
		return false;
	}

	$item_quantity          = wc_stock_amount( $item_quantity &gt;= 0 ? $item_quantity : $item-&gt;get_quantity() );
	$already_reduced_stock  = wc_stock_amount( $item-&gt;get_meta( &#039;_reduced_stock&#039;, true ) );
	$restock_refunded_items = wc_stock_amount( $item-&gt;get_meta( &#039;_restock_refunded_items&#039;, true ) );
	$order                  = $item-&gt;get_order();
	$refunded_item_quantity = $order-&gt;get_qty_refunded_for_item( $item-&gt;get_id() );

	$diff = $item_quantity - $restock_refunded_items - $already_reduced_stock;

	/*
	 * 0 as $item_quantity usually indicates we&#039;re deleting the order item.
	 * Let&#039;s restore back the reduced count.
	 */
	if ( 0 === $item_quantity ) {
		$diff = $already_reduced_stock * -1;
	}

	if ( $diff &lt; 0 ) {
		$new_stock = wc_update_product_stock( $product, $diff * -1, &#039;increase&#039; );
	} elseif ( $diff &gt; 0 ) {
		$new_stock = wc_update_product_stock( $product, $diff, &#039;decrease&#039; );
	} else {
		return false;
	}

	if ( is_wp_error( $new_stock ) ) {
		return $new_stock;
	}

	$item-&gt;update_meta_data( &#039;_reduced_stock&#039;, $item_quantity - $restock_refunded_items );
	$item-&gt;save();

	if ( $item_quantity &gt; 0 ) {
		// If stock was reduced, then we need to mark this on parent order object as well so that cancel logic works properly.
		$order_data_store = WC_Data_Store::load( &#039;order&#039; );
		if ( $item-&gt;get_order_id() &amp;&amp; ! $order_data_store-&gt;get_stock_reduced( $item-&gt;get_order_id() ) ) {
			$order_data_store-&gt;set_stock_reduced( $item-&gt;get_order_id(), true );
		}
	}

	return array(
		&#039;from&#039; =&gt; $new_stock + $diff,
		&#039;to&#039;   =&gt; $new_stock,
	);
}

/**
 * Save order items. Uses the CRUD.
 *
 * @since 2.2
 * @param int   $order_id Order ID.
 * @param array $items Order items to save.
 */
function wc_save_order_items( $order_id, $items ) {
	// Allow other plugins to check change in order items before they are saved.
	/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
	do_action( &#039;woocommerce_before_save_order_items&#039;, $order_id, $items );
	/* phpcs: enable */

	$qty_change_order_notes = array();
	$order                  = wc_get_order( $order_id );

	// Line items and fees.
	if ( isset( $items[&#039;order_item_id&#039;] ) ) {
		$data_keys = array(
			&#039;line_tax&#039;             =&gt; array(),
			&#039;line_subtotal_tax&#039;    =&gt; array(),
			&#039;order_item_name&#039;      =&gt; null,
			&#039;order_item_qty&#039;       =&gt; null,
			&#039;order_item_tax_class&#039; =&gt; null,
			&#039;line_total&#039;           =&gt; null,
			&#039;line_subtotal&#039;        =&gt; null,
		);
		foreach ( $items[&#039;order_item_id&#039;] as $item_id ) {
			$item = WC_Order_Factory::get_order_item( absint( $item_id ) );

			if ( ! $item ) {
				continue;
			}

			$item_data = array();

			foreach ( $data_keys as $key =&gt; $default ) {
				$item_data[ $key ] = isset( $items[ $key ][ $item_id ] ) ? wc_check_invalid_utf8( wp_unslash( $items[ $key ][ $item_id ] ) ) : $default;
			}

			if ( &#039;0&#039; === $item_data[&#039;order_item_qty&#039;] ) {
				$changed_stock = wc_maybe_adjust_line_item_product_stock( $item, 0 );
				if ( $changed_stock &amp;&amp; ! is_wp_error( $changed_stock ) ) {
					$qty_change_order_notes[] = $item-&gt;get_name() . &#039; &amp;ndash; &#039; . $changed_stock[&#039;from&#039;] . &#039;&amp;rarr;&#039; . $changed_stock[&#039;to&#039;];
				}
				$item-&gt;delete();
				continue;
			}

			$item-&gt;set_props(
				array(
					&#039;name&#039;      =&gt; $item_data[&#039;order_item_name&#039;],
					&#039;quantity&#039;  =&gt; $item_data[&#039;order_item_qty&#039;],
					&#039;tax_class&#039; =&gt; $item_data[&#039;order_item_tax_class&#039;],
					&#039;total&#039;     =&gt; $item_data[&#039;line_total&#039;],
					&#039;subtotal&#039;  =&gt; $item_data[&#039;line_subtotal&#039;],
					&#039;taxes&#039;     =&gt; array(
						&#039;total&#039;    =&gt; $item_data[&#039;line_tax&#039;],
						&#039;subtotal&#039; =&gt; $item_data[&#039;line_subtotal_tax&#039;],
					),
				)
			);

			if ( &#039;fee&#039; === $item-&gt;get_type() ) {
				$item-&gt;set_amount( $item_data[&#039;line_total&#039;] );
			}

			if ( isset( $items[&#039;meta_key&#039;][ $item_id ], $items[&#039;meta_value&#039;][ $item_id ] ) ) {
				foreach ( $items[&#039;meta_key&#039;][ $item_id ] as $meta_id =&gt; $meta_key ) {
					$meta_key   = substr( wp_unslash( $meta_key ), 0, 255 );
					$meta_value = isset( $items[&#039;meta_value&#039;][ $item_id ][ $meta_id ] ) ? wp_unslash( $items[&#039;meta_value&#039;][ $item_id ][ $meta_id ] ) : &#039;&#039;;

					if ( &#039;&#039; === $meta_key &amp;&amp; &#039;&#039; === $meta_value ) {
						if ( ! strstr( $meta_id, &#039;new-&#039; ) ) {
							$item-&gt;delete_meta_data_by_mid( $meta_id );
						}
					} elseif ( strstr( $meta_id, &#039;new-&#039; ) ) {
						$item-&gt;add_meta_data( $meta_key, $meta_value, false );
					} else {
						$item-&gt;update_meta_data( $meta_key, $meta_value, $meta_id );
					}
				}
			}

			// Allow other plugins to change item object before it is saved.
			/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
			do_action( &#039;woocommerce_before_save_order_item&#039;, $item );
			/* phpcs: enable */

			$item-&gt;save();

			if ( in_array( $order-&gt;get_status(), array( &#039;processing&#039;, &#039;completed&#039;, &#039;on-hold&#039; ), true ) ) {
				$changed_stock = wc_maybe_adjust_line_item_product_stock( $item );
				if ( $changed_stock &amp;&amp; ! is_wp_error( $changed_stock ) ) {
					$qty_change_order_notes[] = $item-&gt;get_name() . &#039; (&#039; . $changed_stock[&#039;from&#039;] . &#039;&amp;rarr;&#039; . $changed_stock[&#039;to&#039;] . &#039;)&#039;;
				}
			}
		}
	}

	// Shipping Rows.
	if ( isset( $items[&#039;shipping_method_id&#039;] ) ) {
		$data_keys = array(
			&#039;shipping_method&#039;       =&gt; null,
			&#039;shipping_method_title&#039; =&gt; null,
			&#039;shipping_cost&#039;         =&gt; 0,
			&#039;shipping_taxes&#039;        =&gt; array(),
		);

		foreach ( $items[&#039;shipping_method_id&#039;] as $item_id ) {
			$item = WC_Order_Factory::get_order_item( absint( $item_id ) );

			if ( ! $item ) {
				continue;
			}

			$item_data = array();

			foreach ( $data_keys as $key =&gt; $default ) {
				$item_data[ $key ] = isset( $items[ $key ][ $item_id ] ) ? wc_clean( wp_unslash( $items[ $key ][ $item_id ] ) ) : $default;
			}

			$item-&gt;set_props(
				array(
					&#039;method_id&#039;    =&gt; $item_data[&#039;shipping_method&#039;],
					&#039;method_title&#039; =&gt; $item_data[&#039;shipping_method_title&#039;],
					&#039;total&#039;        =&gt; $item_data[&#039;shipping_cost&#039;],
					&#039;taxes&#039;        =&gt; array(
						&#039;total&#039; =&gt; $item_data[&#039;shipping_taxes&#039;],
					),
				)
			);

			if ( isset( $items[&#039;meta_key&#039;][ $item_id ], $items[&#039;meta_value&#039;][ $item_id ] ) ) {
				foreach ( $items[&#039;meta_key&#039;][ $item_id ] as $meta_id =&gt; $meta_key ) {
					$meta_value = isset( $items[&#039;meta_value&#039;][ $item_id ][ $meta_id ] ) ? wp_unslash( $items[&#039;meta_value&#039;][ $item_id ][ $meta_id ] ) : &#039;&#039;;

					if ( &#039;&#039; === $meta_key &amp;&amp; &#039;&#039; === $meta_value ) {
						if ( ! strstr( $meta_id, &#039;new-&#039; ) ) {
							$item-&gt;delete_meta_data_by_mid( $meta_id );
						}
					} elseif ( strstr( $meta_id, &#039;new-&#039; ) ) {
						$item-&gt;add_meta_data( $meta_key, $meta_value, false );
					} else {
						$item-&gt;update_meta_data( $meta_key, $meta_value, $meta_id );
					}
				}
			}

			$item-&gt;save();
		}
	}

	$order = wc_get_order( $order_id );

	if ( ! empty( $qty_change_order_notes ) ) {
		/* translators: %s item name. */
		$order-&gt;add_order_note( sprintf( __( &#039;Adjusted stock: %s&#039;, &#039;woocommerce&#039; ), implode( &#039;, &#039;, $qty_change_order_notes ) ), false, true );
	}

	$order-&gt;update_taxes();
	$order-&gt;calculate_totals( false );

	// Inform other plugins that the items have been saved.
	/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
	do_action( &#039;woocommerce_saved_order_items&#039;, $order_id, $items );
	/* phpcs: enable */
}

/**
 * Get HTML for some action buttons. Used in list tables.
 *
 * @since 3.3.0
 * @param array $actions Actions to output.
 * @return string
 */
function wc_render_action_buttons( $actions ) {
	$actions_html = &#039;&#039;;

	foreach ( $actions as $action ) {
		if ( isset( $action[&#039;group&#039;] ) ) {
			$actions_html .= &#039;&lt;div class=&quot;wc-action-button-group&quot;&gt;&lt;label&gt;&#039; . $action[&#039;group&#039;] . &#039;&lt;/label&gt; &lt;span class=&quot;wc-action-button-group__items&quot;&gt;&#039; . wc_render_action_buttons( $action[&#039;actions&#039;] ) . &#039;&lt;/span&gt;&lt;/div&gt;&#039;;
		} elseif ( isset( $action[&#039;action&#039;], $action[&#039;url&#039;], $action[&#039;name&#039;] ) ) {
			$actions_html .= sprintf( &#039;&lt;a class=&quot;button wc-action-button wc-action-button-%1$s %1$s&quot; href=&quot;%2$s&quot; aria-label=&quot;%3$s&quot; title=&quot;%3$s&quot;&gt;%4$s&lt;/a&gt;&#039;, esc_attr( $action[&#039;action&#039;] ), esc_url( $action[&#039;url&#039;] ), esc_attr( isset( $action[&#039;title&#039;] ) ? $action[&#039;title&#039;] : $action[&#039;name&#039;] ), esc_html( $action[&#039;name&#039;] ) );
		}
	}

	return $actions_html;
}

/**
 * Shows a notice if variations are missing prices.
 *
 * @since 3.6.0
 * @param WC_Product $product_object Product object.
 */
function wc_render_invalid_variation_notice( $product_object ) {
	global $wpdb;

	// Give ability for extensions to hide this notice.
	/* phpcs:disable WooCommerce.Commenting.CommentHooks.MissingHookComment */
	if ( ! apply_filters( &#039;woocommerce_show_invalid_variations_notice&#039;, true, $product_object ) ) {
		return;
	}
	/* phpcs: enable */

	$variation_ids = $product_object ? $product_object-&gt;get_children() : array();

	if ( empty( $variation_ids ) ) {
		return;
	}

	$variation_count = count( $variation_ids );

	// Check if a variation exists without pricing data.
	// phpcs:disable WordPress.DB.PreparedSQL.NotPrepared
	$valid_variation_count = $wpdb-&gt;get_var(
		&quot;
		SELECT count(post_id) FROM {$wpdb-&gt;postmeta}
		WHERE post_id in (&quot; . implode( &#039;,&#039;, array_map( &#039;absint&#039;, $variation_ids ) ) . &quot;)
		AND ( meta_key=&#039;_subscription_sign_up_fee&#039; OR meta_key=&#039;_price&#039; )
		AND meta_value &gt;= 0
		AND meta_value != &#039;&#039;
		&quot;
	);
	// phpcs:enable WordPress.DB.PreparedSQL.NotPrepared

	$invalid_variation_count = $variation_count - $valid_variation_count;

	if ( 0 &lt; $invalid_variation_count ) {
		?&gt;
		&lt;div id=&quot;message&quot; class=&quot;inline notice notice-warning woocommerce-message woocommerce-notice-invalid-variation&quot;&gt;
			&lt;p&gt;
			&lt;?php
			echo wp_kses_post(
				sprintf(
					/* Translators: %d variation count. */
					_n( &#039;%d variation does not have a price.&#039;, &#039;%d variations do not have prices.&#039;, $invalid_variation_count, &#039;woocommerce&#039; ),
					$invalid_variation_count
				) . &#039;&amp;nbsp;&#039; .
				__( &#039;Variations (and their attributes) that do not have prices will not be shown in your store.&#039;, &#039;woocommerce&#039; )
			);
			?&gt;
			&lt;/p&gt;
			&lt;div class=&quot;woocommerce-add-variation-price-container&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;button add_price_for_variations&quot;&gt;&lt;?php esc_html_e( &#039;Add price&#039;, &#039;woocommerce&#039; ); ?&gt;&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;?php
	}
}

/**
 * Get current admin page URL.
 *
 * Returns an empty string if it cannot generate a URL.
 *
 * @internal
 * @since 4.4.0
 * @return string
 */
function wc_get_current_admin_url() {
	$uri = isset( $_SERVER[&#039;REQUEST_URI&#039;] ) ? esc_url_raw( wp_unslash( $_SERVER[&#039;REQUEST_URI&#039;] ) ) : &#039;&#039;;
	$uri = preg_replace( &#039;|^.*/wp-admin/|i&#039;, &#039;&#039;, $uri );

	if ( ! $uri ) {
		return &#039;&#039;;
	}

	return remove_query_arg( array( &#039;_wpnonce&#039;, &#039;_wc_notice_nonce&#039;, &#039;wc_db_update&#039;, &#039;wc_db_update_nonce&#039;, &#039;wc-hide-notice&#039; ), admin_url( $uri ) );
}

/**
 * Get default product type options.
 *
 * @internal
 * @since 7.9.0
 * @return array
 */
function wc_get_default_product_type_options() {
	return array(
		&#039;virtual&#039;      =&gt; array(
			&#039;id&#039;            =&gt; &#039;_virtual&#039;,
			&#039;wrapper_class&#039; =&gt; &#039;show_if_simple&#039;,
			&#039;label&#039;         =&gt; __( &#039;Virtual&#039;, &#039;woocommerce&#039; ),
			&#039;description&#039;   =&gt; __( &#039;Virtual products are intangible and are not shipped.&#039;, &#039;woocommerce&#039; ),
			&#039;default&#039;       =&gt; &#039;no&#039;,
		),
		&#039;downloadable&#039; =&gt; array(
			&#039;id&#039;            =&gt; &#039;_downloadable&#039;,
			&#039;wrapper_class&#039; =&gt; &#039;show_if_simple&#039;,
			&#039;label&#039;         =&gt; __( &#039;Downloadable&#039;, &#039;woocommerce&#039; ),
			&#039;description&#039;   =&gt; __( &#039;Downloadable products give access to a file upon purchase.&#039;, &#039;woocommerce&#039; ),
			&#039;default&#039;       =&gt; &#039;no&#039;,
		),
	);
}
</code></pre>
            </article>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <footer class="phpdocumentor phpdocumentor-footer">
    <div class="phpdocumentor-section">
        <span>WooCommerce Code Reference API documentation generated by <a href="http://www.phpdoc.org/">phpDocumentor</a> on August 24th, 2023 at 08:49 am.</span>
    </div>
</footer>

    <script>
        cssVars({});
    </script>
    <script>
        var searchParams = {
            'searchIndex': '..\/js\/searchIndex.json'
        };
    </script>
    <script src="../js/searchIndex.js?updated=1692866946"></script>
    <script src="../js/search.js?updated=1692866946"></script>
</body>
</html>
